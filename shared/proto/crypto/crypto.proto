syntax = "proto3";

package crypto;

option go_package = "crypto-platform/shared/proto/crypto;pbCrypto";

service CryptoService {
  rpc GetPriceInfos(GetPriceInfosRequest) returns (GetPriceInfosResponse) {}
  rpc RefetchPriceInfos(RefetchPriceInfosRequest) returns (RefetchPriceInfosResponse) {}
}

message GetPriceInfosRequest {}

message RefetchPriceInfosRequest {}

message RefetchPriceInfosResponse {
  bool success = 1;
  string message = 2;
}

message GetPriceInfosResponse {
  map<string, ExchangePriceList> prices = 1;
}

message ExchangePriceList {
  repeated ExchangePrice exchanges = 1;
}

message ExchangePrice {
  string exchange = 2;
  string last_updated_at = 3;
  double price = 4;
  double high = 5;
  double low = 6;
  double open = 7;
  double close = 8;
  double base_volume = 9;
  double quote_volume = 10;
  double change = 11;
  double change_percent = 12;
}
